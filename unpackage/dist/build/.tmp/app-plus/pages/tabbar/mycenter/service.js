(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/mycenter/service"],{"0372":function(t,e,n){"use strict";(function(t){n("8abb"),n("921b");i(n("66fd"));var e=i(n("969b"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"048b":function(t,e,n){"use strict";var i=n("d12e"),r=n.n(i);r.a},"3f3e":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("f86b")),o=n("2f62");function a(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){u(t,e,n[e])})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={name:"record",data:function(){return{userList:r.default,friendList:[],isActive:0,userAddConversationList:[],groupList:[]}},computed:s({},(0,o.mapState)({isLogin:function(t){return t.isLogin},isSDKReady:function(t){return t.isSDKReady},conversationList:function(t){return t.conversationList},GroupList:function(t){return t.GroupList}})),watch:{isSDKReady:function(t){t&&this.getConversationList()},conversationList:function(t){this.getUserInfo(t)}},methods:{GetKFInfo:function(){},outLoginBtn:function(){var e=this,n=this.tim.logout();n.then(function(n){e.$store.commit("reset"),t.reLaunch({url:"../index/index"})}).catch(function(t){i("log","退出失败"," at pages\\tabbar\\mycenter\\service.vue:110")})},nodesFliter:function(t){var e='<div style="align-items: center;word-wrap:break-word;">'+t+"</div>";return e},changeTabBtn:function(t){this.isActive=t,this.isSDKReady&&this.getConversationList(),2==t&&this.getGroupList()},getConversationList:function(){var t=this,e=this.tim.getConversationList();e.then(function(e){var n=e.data.conversationList;n.length&&t.$store.commit("updateConversationList",n)}).catch(function(t){i("warn","getConversationList error:",t," at pages\\tabbar\\mycenter\\service.vue:143")})},getGroupList:function(){var t=this,e=this.tim.getGroupList();e.then(function(e){i("log",e.data.groupList," at pages\\tabbar\\mycenter\\service.vue:151");var n=e.data.groupList;t.groupList=n,n.length&&t.$store.commit("updategetGroupList",n)}).catch(function(t){i("warn","getGroupList error:",t," at pages\\tabbar\\mycenter\\service.vue:160")})},timeFliter:function(t){var e=new Date(1e3*t),n=this.$commen.dateTimeFliter(e);return n},getUserInfo:function(t){var e=this;this.userAddConversationList=[],t.forEach(function(t){var n={};n.conversation=t,r.default.forEach(function(e){t.toAccount==e.userId&&(n.user=e)}),e.userAddConversationList.push(JSON.parse(JSON.stringify(n)))}),i("log","userAddConversationList",this.userAddConversationList," at pages\\tabbar\\mycenter\\service.vue:181")},toRoom:function(e){i("log","item",e.conversation.userProfile.userID," at pages\\tabbar\\mycenter\\service.vue:184"),"C2C"==e.conversation.type&&(this.$store.commit("updateConversationActive",e),t.navigateTo({url:"../chat/customerRoom"}))},checkUserToRoom:function(e){1==this.isActive&&(this.$store.commit("createConversationActive",e.userID),t.navigateTo({url:"../chat/customerRoom"})),2==this.isActive&&(this.$store.commit("createGrounpChat",e.groupID),t.navigateTo({url:"./grounp"}))}},onShow:function(){this.isSDKReady,this.getConversationList()},onLoad:function(){}};e.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},6702:function(t,e,n){"use strict";var i,r=function(){var t=this,e=t.$createElement,i=(t._self._c,n("18bb")),r=t.__map(t.userAddConversationList,function(e,n){var i=t.nodesFliter(e.conversation.lastMessage.messageForShow),r=t.timeFliter(e.conversation.time),o=t.timeFliter(e.conversation.lastMessage.lastTime);return{$orig:t.__get_orig(e),m1:i,m2:r,m3:o}});t.$mp.data=Object.assign({},{$root:{m0:i,l0:r}})},o=[];n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},"969b":function(t,e,n){"use strict";n.r(e);var i=n("6702"),r=n("af05");for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);n("048b");var a,s=n("f0c5"),u=Object(s["a"])(r["default"],i["b"],i["c"],!1,null,"1ce22e8a",null,!1,i["a"],a);e["default"]=u.exports},af05:function(t,e,n){"use strict";n.r(e);var i=n("3f3e"),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=r.a},d12e:function(t,e,n){}},[["0372","common/runtime","common/vendor"]]]);